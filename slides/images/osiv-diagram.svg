<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="280" viewBox="0 0 800 280" xmlns="http://www.w3.org/2000/svg">
  <!-- Background and Grid -->
  <defs>
    <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#f0f0f0" stroke-width="0.5"/>
    </pattern>
    <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
      <rect width="100" height="100" fill="url(#smallGrid)"/>
      <path d="M 100 0 L 0 0 0 100" fill="none" stroke="#e0e0e0" stroke-width="1"/>
    </pattern>
  </defs>
  
  <!-- Timeline Base -->
  <rect x="100" y="0" width="600" height="250" fill="url(#grid)" />
  <line x1="100" y1="230" x2="700" y2="230" stroke="#333" stroke-width="2" />
  <text x="400" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#333">Request Timeline</text>
  
  <!-- Controller Layer -->
  <rect x="100" y="20" width="600" height="40" rx="5" ry="5" fill="#d1d5db" stroke="#9ca3af" stroke-width="1" />
  <text x="150" y="45" font-family="Arial, sans-serif" font-size="14" fill="#333">Controller Layer</text>
  
  <!-- Service Layer -->
  <rect x="150" y="70" width="200" height="40" rx="5" ry="5" fill="#dbeafe" stroke="#3b82f6" stroke-width="1" />
  <text x="170" y="95" font-family="Arial, sans-serif" font-size="14" fill="#333">Service Layer</text>
  
  <!-- Repository/Database Layer -->
  <rect x="160" y="120" width="150" height="40" rx="5" ry="5" fill="#bbf7d0" stroke="#22c55e" stroke-width="1" />
  <text x="180" y="145" font-family="Arial, sans-serif" font-size="12" fill="#333">Database Access</text>
  
  <!-- External Service Call -->
  <rect x="400" y="70" width="250" height="40" rx="5" ry="5" fill="#fee2e2" stroke="#ef4444" stroke-width="1" />
  <text x="450" y="95" font-family="Arial, sans-serif" font-size="14" fill="#333">External Service Call (Slow)</text>
  
  <!-- Hibernate Session Bar -->
  <rect x="100" y="170" width="600" height="25" rx="3" ry="3" fill="#a855f7" stroke="#7e22ce" stroke-width="1" opacity="0.7" />
  <text x="180" y="187" font-family="Arial, sans-serif" font-size="14" fill="white">Hibernate Session (Open During Entire Request)</text>
  
  
  <!-- Time Markers -->
  <line x1="100" y1="230" x2="100" y2="240" stroke="#333" stroke-width="2" />
  <text x="100" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">0ms</text>
  
  <line x1="700" y1="230" x2="700" y2="240" stroke="#333" stroke-width="2" />
  <text x="700" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">2000ms</text>
  
  
  <!-- Problem Indicator -->
  
  <text x="665" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="14" fill="#ef4444">!</text>
</svg>
